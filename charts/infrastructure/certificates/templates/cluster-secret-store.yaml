---
apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: infisical-backend
spec:
  provider:
    infisical:
      serverURL: "https://app.infisical.com" # or your self-hosted URL
      projectId: "your-project-id"  # Required: Your Infisical project ID
      environment: "prod"           # Required: Environment (dev, staging, prod, etc.)
      auth:
        machineIdentityAuth:
          clientId: "your-machine-identity-client-id"
          clientSecretSecretRef:
            secretName: "infisical-auth"
            secretNamespace: "cert-manager"
            secretKey: "clientSecret"
